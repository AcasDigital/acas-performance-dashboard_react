(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,a,t){e.exports=t(255)},141:function(e,a,t){},250:function(e,a,t){},251:function(e,a,t){},252:function(e,a,t){},253:function(e,a,t){},254:function(e,a,t){},255:function(e,a,t){"use strict";t.r(a);t(104);var n=t(0),c=t.n(n),s=t(98),r=t.n(s),l=t(17),i=t(22),o=(t(141),function(e){var a=e.children;return c.a.createElement("section",{className:"row"},a)}),u=t(1),m=t.n(u),p=t(3),h=t(5),d=t(6),E=t(8),b=t(7),f=t(9),v=function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,null,[{key:"searchItems",value:function(){var e=Object(p.a)(m.a.mark(function e(a){var t,n,c;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat("https://dev-beta.acas.org.uk/").concat(a).concat("?_format=json"),e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}()}]),e}(),y=function(e){function a(){var e,t;Object(h.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(t=Object(E.a)(this,(e=Object(b.a)(a)).call.apply(e,[this].concat(c)))).state={userValue:""},t.componentDidMount=Object(p.a)(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.searchItems("performance-static-figures");case 2:a=e.sent,t.setState({userValue:a[0].users});case 4:case"end":return e.stop()}},e)})),t}return Object(f.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){return c.a.createElement("article",{className:"col-xs-12 col-md-10 col-lg-9"},c.a.createElement("div",{className:"analytics-block analytics-block--shorter"},c.a.createElement("div",{className:"analytics-block--figure"},c.a.createElement("span",{id:"analytics--sessions-total"},this.state.userValue)),c.a.createElement("div",{className:"analytics-block--subtitle analytics-block--subtitle--inside"},c.a.createElement("p",null,c.a.createElement("span",{className:"analytics-block--length"},"In the last 7 days")))))}}]),a}(n.Component),g=t(99),k=[],N=[],j=function(e){function a(){var e,t;Object(h.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(t=Object(E.a)(this,(e=Object(b.a)(a)).call.apply(e,[this].concat(c)))).state={data:{}},t.componentDidMount=Object(p.a)(m.a.mark(function e(){var a,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.searchItems("sessions-by-day");case 2:return a=e.sent,e.next=5,t.setupWeeklySessions(a);case 5:n=e.sent,t.setState({data:n});case 7:case"end":return e.stop()}},e)})),t.setupWeeklySessions=function(e){for(var a=0;a<e.length;a++)k.push(e[a].dayOfWeekName),N.push(parseFloat(e[a].sessions.replace(/,/g,"")));return{labels:k,datasets:[{label:"Sessions",data:N,borderColor:"#008c95",backgroundColor:"#008c95",fill:!1,hoverRadius:6,radius:6}]}},t}return Object(f.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){return c.a.createElement("article",{className:"col-xs-12 col-md-10 col-lg-9"},c.a.createElement("div",{className:"analytics-block"},this.state.data!=={}?c.a.createElement(g.a,{data:this.state.data}):null))}}]),a}(n.Component),x=function(e){function a(){var e,t;Object(h.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(t=Object(E.a)(this,(e=Object(b.a)(a)).call.apply(e,[this].concat(c)))).state={feedbackRate:""},t.componentDidMount=Object(p.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.parseUrls(["feedback-event-action","sessions-all"]);case 1:case"end":return e.stop()}},e)})),t.toHierarchy=function(e,a){var n=a[0].sessions.replace(/,/g,"");n=parseFloat(n);var c=(parseFloat(e[0].totalEvents)/n*100).toFixed(1);t.setState({feedbackRate:c})},t}return Object(f.a)(a,e),Object(d.a)(a,[{key:"parseUrls",value:function(e){var a=this;Promise.all([v.searchItems(e[0]),v.searchItems(e[1])]).then(function(e){a.toHierarchy(e[0],e[1])})}},{key:"render",value:function(){return c.a.createElement("article",{className:"col-xs-12 col-md-4"},c.a.createElement("div",{className:"analytics-block analytics-block--shorter"},c.a.createElement("div",{className:"analytics-block--figure"},c.a.createElement("span",{id:"analytics--sessions-total"},""!==this.state.feedbackRate?this.state.feedbackRate:null),c.a.createElement("span",null,"%")),c.a.createElement("div",{className:"analytics-block--description"},c.a.createElement("p",null,"users said we didn't answer their question"))),c.a.createElement("div",{className:"analytics-block--subtitle"},c.a.createElement("p",null,c.a.createElement("span",{className:"analytics-block--length"},"All time results, "),c.a.createElement("span",{className:"analytics-block--type"},"feedback form"))))}}]),a}(n.Component),O=function(e){function a(){var e,t;Object(h.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(t=Object(E.a)(this,(e=Object(b.a)(a)).call.apply(e,[this].concat(c)))).state={searchExitRate:0},t.componentDidMount=Object(p.a)(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.searchItems("performance-static-figures");case 2:a=e.sent,t.setState({searchExitRate:a[0].searchExitRate});case 4:case"end":return e.stop()}},e)})),t.toHierarchy=function(e,a,t,n){var c=parseFloat(e[0].uniqueEvents.replace(/,/g,""))/parseFloat(a[0].uniquePageviews.replace(/,/g,""))*100;document.getElementById("analytics--session-duration").innerHTML=c.toFixed(0)},t}return Object(f.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){return c.a.createElement("article",{className:"col-xs-12 col-md-4"},c.a.createElement("div",{className:"analytics-block analytics-block--shorter"},c.a.createElement("div",{className:"analytics-block--figure"},c.a.createElement("span",{id:"analytics--sessions-total"},0!==this.state.searchExitRate?parseFloat(this.state.searchExitRate).toFixed(0):null),c.a.createElement("span",null,"%")),c.a.createElement("div",{className:"analytics-block--description"},c.a.createElement("p",null,"users exited the site from search"))),c.a.createElement("div",{className:"analytics-block--subtitle"},c.a.createElement("p",null,c.a.createElement("span",{className:"analytics-block--length"},"Last 7 days, "),c.a.createElement("span",{className:"analytics-block--length"},"search exit rate"))))}}]),a}(n.Component),w=function(e){function a(){var e,t;Object(h.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(t=Object(E.a)(this,(e=Object(b.a)(a)).call.apply(e,[this].concat(c)))).state={searchRefinementRate:0},t.componentDidMount=Object(p.a)(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.searchItems("performance-static-figures");case 2:a=e.sent,t.setState({searchRefinementRate:a[0].percentSearchRefinements});case 4:case"end":return e.stop()}},e)})),t}return Object(f.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){return c.a.createElement("article",{className:"col-xs-12 col-md-4"},c.a.createElement("div",{className:"analytics-block analytics-block--shorter"},c.a.createElement("div",{className:"analytics-block--figure"},c.a.createElement("span",{id:"analytics--sessions-total"},0!==this.state.searchRefinementRate?parseFloat(this.state.searchRefinementRate).toFixed(0):null),c.a.createElement("span",null,"%")),c.a.createElement("div",{className:"analytics-block--description"},c.a.createElement("p",null,"users refined their site search"))),c.a.createElement("div",{className:"analytics-block--subtitle"},c.a.createElement("p",null,c.a.createElement("span",{className:"analytics-block--length"},"Last 7 days, "),c.a.createElement("span",{className:"analytics-block--type"},"search refinement rate"))))}}]),a}(n.Component),R=function(e){function a(){var e,t;Object(h.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(t=Object(E.a)(this,(e=Object(b.a)(a)).call.apply(e,[this].concat(c)))).state={engagementRate:""},t.componentDidMount=Object(p.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.parseUrls(["engagement-event-action","sessions-pageviews-advice"]);case 1:case"end":return e.stop()}},e)})),t.parseUrls=function(){var e=Object(p.a)(m.a.mark(function e(a){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([v.searchItems(a[0]),v.searchItems(a[1])]).then(function(e){t.toHierarchy(e[0],e[1])});case 2:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),t.toHierarchy=function(e,a){var n=parseFloat(e[0].uniqueEvents.replace(/,/g,""))/parseFloat(a[0].uniquePageviews.replace(/,/g,""))*100;t.setState({engagementRate:n.toFixed(0)})},t}return Object(f.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){return c.a.createElement("article",{className:"col-xs-12 col-md-4"},c.a.createElement("div",{className:"analytics-block analytics-block--shorter"},c.a.createElement("div",{className:"analytics-block--figure"},c.a.createElement("span",{id:"analytics--sessions-total"},0!==this.state.engagementRate?this.state.engagementRate:null),c.a.createElement("span",null,"%")),c.a.createElement("div",{className:"analytics-block--description"},c.a.createElement("p",null,"users engaged with advice content"))),c.a.createElement("div",{className:"analytics-block--subtitle"},c.a.createElement("span",{className:"analytics-block--length"},"Last 7 days, "),c.a.createElement("span",{className:"analytics-block--type"},"time on page at least 10 seconds")))}}]),a}(n.Component),F=function(e){function a(){var e,t;Object(h.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(t=Object(E.a)(this,(e=Object(b.a)(a)).call.apply(e,[this].concat(c)))).state={navBounceRate:0},t.componentDidMount=Object(p.a)(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.searchItems("bounce-rate-landing-pages");case 2:a=e.sent,t.setState({navBounceRate:a[0].bounceRate});case 4:case"end":return e.stop()}},e)})),t}return Object(f.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){return c.a.createElement("article",{className:"col-xs-12 col-md-4"},c.a.createElement("div",{className:"analytics-block analytics-block--shorter"},c.a.createElement("div",{className:"analytics-block--figure"},c.a.createElement("span",{id:"analytics--sessions-total"},0!==this.state.navBounceRate?parseFloat(this.state.navBounceRate).toFixed(0):null),c.a.createElement("span",null,"%")),c.a.createElement("div",{className:"analytics-block--description"},c.a.createElement("p",null,"users bouncing from navigation pages"))),c.a.createElement("div",{className:"analytics-block--subtitle"},c.a.createElement("span",{className:"analytics-block--length"},"Last 7 days, "),c.a.createElement("span",{className:"analytics-block--type"},"bounce rate")))}}]),a}(n.Component),I=function(){return c.a.createElement("div",{className:"page-main"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-xs-12"},c.a.createElement("h1",null,"Acas beta website performance dashboard")),c.a.createElement(o,null,c.a.createElement("div",{className:"col-xs-12"},c.a.createElement("h2",null,"This week's activity")),c.a.createElement(j,null)),c.a.createElement(o,null,c.a.createElement("div",{className:"col-xs-12"},c.a.createElement("h2",null,"Visitors")),c.a.createElement(y,null)),c.a.createElement(o,null,c.a.createElement("div",{className:"col-xs-12"},c.a.createElement("h2",null,"Can people find what they are looking for?")),c.a.createElement(x,null),c.a.createElement(O,null),c.a.createElement(w,null)),c.a.createElement(o,null,c.a.createElement("div",{className:"col-xs-12"},c.a.createElement("h2",null,"Engagement with the site")),c.a.createElement(R,null),c.a.createElement(F,null)))))},A=function(){return c.a.createElement("div",{className:"page-main"},c.a.createElement("h1",null,"There is nothing here yet."),c.a.createElement(l.b,{to:"/"},"Return to the home page."))},S=(t(250),function(){return c.a.createElement("header",{className:"page-banner"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-xs-12"},c.a.createElement("span",{className:"beta-icon"},"BETA"),"This is a new service - your feedback will help us to improve it."))))}),C=(t(251),function(){return c.a.createElement("header",{className:"page-header"},c.a.createElement("div",{className:"container"},c.a.createElement(l.b,{to:"/"},c.a.createElement("img",{className:"page-logo",src:"./images/logo.png",alt:"Acas logo"}))))}),M=function(){return c.a.createElement("div",null,c.a.createElement("h1",null,"This page does not exist."),c.a.createElement(l.b,{to:"/"},"Return to the home page."))},B=(t(252),function(){return c.a.createElement(l.a,null,c.a.createElement(c.a.Fragment,null,c.a.createElement(S,null),c.a.createElement(C,null),c.a.createElement(i.c,null,c.a.createElement(i.a,{path:"/",component:I,exact:!0}),c.a.createElement(i.a,{path:"/notifications",component:A,exact:!0}),c.a.createElement(i.a,{component:M}))))});t(253),t(254);r.a.render(c.a.createElement(B,null),document.getElementById("app"))}},[[103,1,2]]]);
//# sourceMappingURL=main.4413ea0e.chunk.js.map